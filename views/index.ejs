<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... (previous head content) ... -->
    <script src="https://www.paypalobjects.com/ncp/cart/cart.js" data-merchant-id="<%= PAYPAL_MERCHANT_ID %>"></script>
    <script>
    function convertUSDtoINR(usd) {
        const exchangeRate = 82.5;
        return Math.round(usd * exchangeRate);
    }

    function updatePrice(productId, usdPrice) {
        const inrPrice = convertUSDtoINR(usdPrice);
        const priceElement = document.getElementById(`priceDisplay${productId}`);
        if (priceElement) {
            priceElement.textContent = `Price: $${usdPrice.toFixed(2)} (₹${inrPrice})`;
            console.log(`Updated price for product ${productId}: $${usdPrice.toFixed(2)} (₹${inrPrice})`);
        } else {
            console.error(`Price display element not found for product ${productId}`);
        }
    }

    window.addEventListener('load', function() {
        setTimeout(function() {
            cartPaypal.AddToCart({ 
                id: "<%= PRODUCT_1_ID %>",
                onRender: function(data) {
                    const select = data.selectNode;
                    if (select) {
                        select.addEventListener('change', function() {
                            const selectedOption = select.options[select.selectedIndex];
                            const price = selectedOption.getAttribute('data-price');
                            updatePrice(1, parseFloat(price));
                        });
                    }
                }
            });

            cartPaypal.AddToCart({ 
                id: "<%= PRODUCT_2_ID %>",
                onRender: function(data) {
                    const select = data.selectNode;
                    if (select) {
                        select.addEventListener('change', function() {
                            const selectedOption = select.options[select.selectedIndex];
                            const price = selectedOption.getAttribute('data-price');
                            updatePrice(2, parseFloat(price));
                        });
                    }
                }
            });
        }, 1000);
    });
    </script>
</head>
<body>
    <!-- ... (previous body content) ... -->
    <div class="product-container">
        <div class="product-card">
            <img src="https://github.com/kablekonnexions/kable/blob/main/public/Images/box%201.jpg?raw=true" alt="Android TV Box X1 Image">
            <h2>Android TV Box X1</h2>
            <p id="priceDisplay1" class="price">Price: $45.99 (₹3794)</p>
            <p><strong>Description:</strong> High-performance Android TV box with pre-installed IPTV apps. Supports 4K streaming and comes with a remote control.</p>
            <div class="paypal-button">
                <paypal-add-to-cart-button data-id="<%= PRODUCT_1_ID %>"></paypal-add-to-cart-button>
            </div>
        </div>

        <div class="product-card">
            <img src="https://github.com/kablekonnexions/kable/blob/main/public/Images/box%202.jpg?raw=true" alt="Android TV Box X2 Image">
            <h2>Android TV Box X2</h2>
            <p id="priceDisplay2" class="price">Price: $90.91 (₹7500)</p>
            <p><strong>Description:</strong> Advanced Android TV box with dual-band Wi-Fi, 4GB RAM, and 64GB storage. Perfect for IPTV and gaming.</p>
            <div class="paypal-button">
                <paypal-add-to-cart-button data-id="<%= PRODUCT_2_ID %>"></paypal-add-to-cart-button>
            </div>
        </div>
    </div>
    <!-- ... (rest of the body content) ... -->
</body>
</html>
